<#include "../../include/imports.ftl">

<#-- @ftlvariable name="pageable" type="org.onehippo.cms7.essentials.components.paging.Pageable" -->
<@hst.setBundle basename="essentials.blog"/>
<#if pageable??>

<div class="body-wrapper">
    <div class="container">
        <div class="row">
            <#if pageable??>
            <#list pageable.items as item>
            <@hst.link var="link" hippobean=item />
            <div class="blog-post has-edit-button">
                <@hst.manageContent hippobean=item/>
                <div class="blog-post">
                    <div class="blog-post-type">
                        <i class="icon-pen"> </i>
                    </div>
                    <div class="blog-span">
                        <#if item.image?? && item.image.large??>
                        <@hst.link var="img" hippobean=item.image.large />
                        <div class="blog-post-featured-img">
                            <a href="${link}"><img src="${img}" alt="${item.title?html}"/></a>
                        </div>
                        <#/if>
                        <h2><a href="${link}">${item.title?html}</a></h2>
                        <div class="blog-post-body">
                            <p>${item.introduction?html}</p>
                        </div>
                        <div class="blog-post-details">
                            <#if item.date?? && item.date.time??>
                            <div class="blog-post-details-item blog-post-details-item-left icon-calendar">
                                <p><@fmt.formatDate value=item.date.time type="both" dateStyle="medium"
                                    timeStyle="short"/></p>
                            </#if>
                        </div>
                        <div class="blog-post-details-item blog-post-details-item-left blog-post-details-item-last icon-comment">
                            <a href="blogs-detail.html">2 comments</a>
                        </div>
                        <div class="blog-post-details-item blog-post-details-item-right">
                            <a href="${link}"> Read more<i class="fa fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            </#list>
            <div class="has-new-content-button">
            <@hst.manageContent documentTemplateQuery="new-blog-document" folderTemplateQuery="new-blog-folder"
            rootPath="blog" defaultPath="${currentYear}/${currentMonth}"/>
            </div>
            <#if cparam.showPagination>
            <#include "../../include/pagination.ftl">
            </#if>
        </div>
<#-- @ftlvariable name="editMode" type="java.lang.Boolean"-->
        <#elseif editMode>
        <div>
        <img src="<@hst.link path='/images/essentials/catalog-component-icons/blog-list.svg'/>"> Click to edit Blog List
        </div>
</#if>